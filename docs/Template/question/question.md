# **学会提问：完整表达和结构性叙述**

[学会提问，把握红利，让嵌入式同事们情不自禁的帮你，抓住贵人？](https://www.bilibili.com/video/BV1bUrDYqE4K/?spm_id_from=333.337.search-card.all.click&vd_source=ecc99d78ae961113010161a48a475a35)

实际上在大一的时候，就已经知道这个东西的重要性了，那个时候问问题和视频的第二个方式类似，只是没有系统地了解过，这里借着准备实习前，再看看。

而且，在一次帮师弟解决问题的时候，找到了一个问答，自认为该问题的提出方式是比较好的，或许是嘉楠的提问就安排好了这些？不清楚，但确实是一个好例子。

- [庐山派烧录Linux系统启动不了 - 嘉楠技术论坛](https://developer.canaan-creative.com/answer/questions/10010000000003379)
- [庐山派k230 linux_sdk编译固件出现问题](https://developer.canaan-creative.com/answer/questions/10010000000003282)





下面是立芯提供的提问模板，总结得挺好的了，如果有需求再添加。

> [‌‍‬‬‬⁠‌‍‍‍‬‍‬‍‬‌﻿⁠⁠嵌入式系统诊断流程模板 - 飞书云文档](https://twd6onxsxva.feishu.cn/docx/RjnOdcZ3FoxcQIxEJYpceaTjnxg)
>
> [‌‬‬﻿‬‍⁠‌‬‍‍⁠‍‍‍⁠‌‌⁠⁠‌Bootloader问题解答 - 飞书云文档](https://twd6onxsxva.feishu.cn/docx/WdMXd1KXGoHGb2xR1sCc2Q7Wned)



# 一、问题的描述

## 1. 问题的表现是怎样的？

> - 关于问题的表现的描述，素材应尽量详细，多附上一些截图/录屏/复现文档

## 2. 问题的复现路径

> - 比如：
> - 1.工程代码附上
> - 2.说明复现细节：使用串口输出还是RTT，波特率是多少

## 3. 正常的预期是什么？

> - 正常的表现应该是怎么样，比如，串口应该输出"Hello world"

# 二、问题产生的可能原因分析

## 1.初步CheckList确认：

> - 0.排除硬件问题：找一个确定可以运行的软件，先跑一下，确认硬件没有问题
> - 1.程序可能爆栈了：在启动文件里调整下栈大小，如果是在 RTOS 里，则调整一下任务的栈大小
> - 2.程序可能被过度优化：调整优化等级，建议 0
> - 3.程序可能进入死循环：进入调试模式，然后全速运行程序然后按暂停，看是否进入 Hardfault，然后用栈回溯）
> - 4.可能程序执行错误：打印每个相关函数的返回值！
> - 5.可能指针为空：打断点到指针运行处，看指针里面的值是不是 0x00000000
> - 6.可能 API 接口用错：Freertos 最好使用 Freertos 本身的 api，比如使用 queue.h 文件里面的函数，task.h 里面的函数，而不是 CMSIS_os_V2.h 里面的函数。
> - 7.可能有些程序片段根本没执行到：比如按键操作如果用 polling 的方式，它运行很快，打断点不方便观察，应该在每个状态机或 if 语句里放置 printf（“1/r/n”）；printf( “2/r/n”) ; 等
> - 8.可能有些线程被饿死了：在线程里面加一些 vTaskDelay（100）延时，防止有些线程被饿死。
> - 9.可能有些线程没有 while（1）循环：检查是不是有些线程没有死循环，直接退出了
> - 10.如果有互斥量和信号量的使用，项目卡死，则先尝试关闭它们，看会不会卡死（一般情况下是死锁），再尝试逐个成对打开。
> - 11.所有的局部变量，全局变量一定要赋初值

## 2.提出可能的原因

> - 比如：1.可能是任务调度造成串口打印不完全，关掉任务调度试一试

# 三、设计实验，验证可能的原因和猜想

> - 详细描述修复问题的技术方案、相关示意图、流程图、时序图

# 四、验证实验

## 第一次实验

### 1.实验序号

> - 1.需要注明这是第几次实验（每次都需要修改）
> - 2.实验时间（每次都需要更改）

 

### 2.实验环境

#### 1.需要注明本次测试的测试环境

> - 比如：
> - 1.相关芯片型号
> - 2.固件版本
> - 3.电源供电的的内容
> - 4.有其他实验环境也需要标注

#### 2.需要附件本次实验相关的文档，比如相关的MCU/MPU的Datasheet,User manual等

> -  比如：
> - 1.相关的MCU/MPU的Datasheet，User manual

### 3.实验步骤

> 1.需要记录下如何启动的MCU/MPU，是通过电源上下电还是按键复位等。
>
> 2.其他与本次实验相关的步骤。

 

### 4.实验结果

##### 1.输出本次实验的结果

> 分析一下这次实验有什么新的发现

##### 2.实验分析

> 1.对比本次实验步骤和上次实验步骤的区别。
>
> 2.对比本次实验结果和上次实验结果的区别。
>
> 3.是否解决了问题？若无，设计下一次实验

## 实战参考示例：

 [Bootloader问题解答](https://twd6onxsxva.feishu.cn/docx/WdMXd1KXGoHGb2xR1sCc2Q7Wned?from=from_copylink)

最后将问题文档确认好标题，归属问题范围，方便并入公司内网档案





