## 常用查找

在Linux系统中，你可以使用`find`命令来查找当前目录下文件名中包含"main"的文件。以下是一些基本的命令示例：

1. **查找当前目录及其子目录下所有文件名中包含"main"的文件**：
   ```bash
   find . -type f -name "*main*"
   ```

2. **只查找当前目录下的文件（不包括子目录）**：
   ```bash
   find . -maxdepth 1 -type f -name "*main*"
   ```

3. **查找文件名中包含"main"的C或C++源文件**：
   
   ```bash
   find . -type f \( -name "*.c" -o -name "*.cc" -o -name "*.cpp" -o -name "*.h" \) -name "*main*"
   ```
   
4. **使用正则表达式查找文件名**（如果你的`find`命令支持`-regex`选项）：
   ```bash
   find . -type f -regex ".*/main.*\.\(c\|cpp\|cc\|h\)"
   ```

5. **使用`grep`命令配合`find`命令来过滤结果**（如果你只想查看文件名，而不是完整路径）：
   ```bash
   find . -type f -name "*main*" | grep "main"
   ```

6. **使用`xargs`命令来对找到的文件执行某个命令**（例如，列出所有找到的文件的详细信息）：
   
   ```bash
   find . -type f -name "*main*" | xargs ls -l
   ```

请注意，这些命令中的`.`表示当前目录，`-type f`指定查找文件，`-name "*main*"`指定文件名模式。如果你的`find`命令的语法有所不同，可能需要调整命令选项。





## 统计代码行数

要统计文件夹中的.c代码行数和.h代码行数，您可以使用以下步骤：

1. 统计.c文件的代码行数：
   - 使用以下命令统计文件夹中所有.c文件的代码行数：
     ```bash
     find /path/to/your/folder -name "*.c" | xargs cat | wc -l
     ```
     这个命令会找到指定文件夹下所有扩展名为.c的文件，将它们的内容合并后统计总行数。
     
     > 这个命令行使用了几个不同的命令来完成一个特定的任务：在指定的目录及其子目录中查找所有的 C 语言源代码文件（以 `.c` 结尾的文件），将这些文件的内容拼接起来，然后计算总的行数。下面是每个部分的详细解释：
     >
     > 1. `find /path/to/your/folder -name "*.c"`：
     >    - `find`：**是一个命令行工具，用于在文件系统中搜索文件**。
     >    - `/path/to/your/folder`：指定了搜索的起始目录。你需要将其替换为实际的目录路径。
     >    - `-name "*.c"`：指定了搜索条件，即所有以 `.c` 结尾的文件，这是 C 语言源代码文件的常见扩展名。
     >
     > 2. `|`（管道）：
     >    - 管道符号用于将一个命令的输出作为另一个命令的输入。在这个例子中，它将 `find` 命令的输出（即所有 `.c` 文件的路径列表）传递给 `xargs` 命令。
     >
     > 3. `xargs`：
     >    - `xargs` 是一个命令行工具，用于将标准输入（stdin）数据转换成命令行参数。在这个例子中，它将接收来自 `find` 命令的文件列表，并把这些文件作为参数传递给 `cat` 命令。
     >
     > 4. `cat`：
     >    - `cat` 是一个命令行工具，用于连接文件并打印到标准输出。由于 `xargs` 传递了多个文件名给 `cat`，`cat` 将这些文件的内容拼接起来，形成单一的输出流。
     >
     > 5. `wc -l`：
     >    - `wc` 是一个命令行工具，用于计算字数、行数、字符数等。
     >    - `-l` 是 `wc` 的一个选项，用于计算行数。
     >
     > 将这些组合起来，整个命令行的作用是：查找指定目录下所有 `.c` 文件，将它们的内容全部拼接起来，然后计算总的行数。这在统计一个项目中所有 C 源代码文件的总行数时非常有用。
     >
   
2. 统计.h文件的代码行数：
   - 使用以下命令统计文件夹中所有.h文件的代码行数：
     ```bash
     find /path/to/your/folder -name "*.h" | xargs cat | wc -l
     ```
     这个命令会找到指定文件夹下所有扩展名为.h的文件，将它们的内容合并后统计总行数。

请将"/path/to/your/folder"替换为您要统计的文件夹路径。执行上述命令后，终端会输出.c文件和.h文件的总代码行数。





## 找 main 函数入口

在一个大型的C项目中找到最初的`main`函数入口可以通过以下步骤在Linux系统中进行：

1. **使用`grep`命令搜索**：
   在项目的根目录下，可以使用`grep`命令搜索包含`main`函数的文件，然后查看这些文件中的`main`函数是否是程序的入口。例如：
   
   ```bash
   grep -r "int main" .
   ```
   这将搜索当前目录下所有文件中包含`int main`的内容。
   
   >  很有用喔！！！
   >
   >  查找了很多变量、宏定义、等等
   
   > 简单分析
   >
   > 这个 `grep` 命令用于递归搜索当前目录及所有子目录下包含字符串 `"int main"` 的文件。下面是每个参数的具体含义：
   >
   > 1. `grep`：是这个命令行工具的命令本身，用于搜索文本文件并显示匹配的行。
   >
   > 2. `-r` 或 `--recursive`：这是一个选项，告诉 `grep` 递归地搜索给定目录下的所有文件，包括子目录中的文件。
   >
   > 3. `"int main"`：这是 `grep` 搜索的模式，即你想要在文件中找到的字符串。在这个例子中，它搜索包含 `int main` 的行，这通常是 C 或 C++ 程序中主函数的开始。
   >
   > 4. `.`：代表当前目录。在这个命令中，它告诉 `grep` 从当前工作目录开始搜索，并包括这个目录下的所有子目录。
   >
   > 综上所述，整个命令 `grep -r "int main" .` 的作用是在当前目录及其所有子目录中搜索包含 `int main` 的文本行，并将这些行显示在标准输出上。这通常用于快速查找项目的源代码文件中定义了主函数的位置。
   
2. **查看 Makefile或CMakeLists文件**：
   如果项目使用了Makefile或CMakeLists进行构建，可以查看这些文件中是否指定了程序的入口文件。通常会有类似`TARGET`或`EXECUTABLE`的定义，指定了可执行文件的名称。

3. **使用`objdump`命令**：
   可以使用`objdump`命令来查看可执行文件的符号表，找到`main`函数的入口地址。例如：
   
   ```bash
   objdump -t <executable_file> | grep main
   ```
   这将列出可执行文件中所有包含`main`的符号，包括`main`函数的入口地址。
   
4. **使用`readelf`命令**：
   可以使用`readelf`命令来查看可执行文件的节头表，找到`main`函数的入口地址。例如：
   ```bash
   readelf -s <executable_file> | grep main
   ```
   这将列出可执行文件中所有包含`main`的符号，包括`main`函数的入口地址。

通过以上方法，您可以在大型C项目中找到最初的`main`函数入口，以便了解程序的整体结构和启动流程。



#### 能不能找文件名是这个的呢？比如说是 `cpu.h` 的？

要在Linux系统中找到文件名为`cpu.h`的文件，可以使用`find`命令。`find`命令可以在指定目录及其子目录中搜索文件，并根据指定的条件进行过滤。

下面是使用`find`命令查找文件名为`cpu.h`的文件的示例：

```bash
find /path/to/search -type f -name "cpu.h"
```

在上面的命令中：
- `/path/to/search`是要搜索的目录路径。您可以将其替换为您希望搜索的实际目录路径。
- `-type f`表示只搜索普通文件，而不是目录或其他类型的文件。
- `-name "cpu.h"`表示要搜索的文件名为`cpu.h`。

执行上面的命令后，`find`命令将在指定目录及其子目录中查找文件名为`cpu.h`的文件，并输出相应的文件路径。您可以根据输出的文件路径找到目标文件`cpu.h`。





## find 和 grep 和sed学习

#### find



#### grep

`grep` 是一个强大的文本搜索工具，它用于搜索文件内容，找出包含指定模式的行。以下是 `grep` 的一些基本用法：

1. **基本搜索**：
   使用 `grep` 搜索包含特定文本的行：
   
   ```sh
   grep "pattern" filename
   ```
   这将搜索文件 `filename` 中所有包含字符串 `pattern` 的行，并将其打印出来。
   
2. **递归搜索**：
   使用 `-r` 或 `--recursive` 选项递归搜索目录：
   
   ```sh
   grep -r "pattern" /path/to/directory
   ```
   这将搜索指定目录及其所有子目录中的文件。
   
3. **行号**：
   使用 `-n` 选项显示匹配行的行号：
   
   ```sh
   grep -n "pattern" filename
   ```
   
4. **只打印文件名**：
   使用 `-l` 选项只打印包含匹配行的文件名：
   
   ```sh
   grep -l "pattern" filename
   ```
   
5. **不显示匹配行**：
   使用 `-L` 选项只打印不包含匹配行的文件名：
   
   ```sh
   grep -L "pattern" filename
   ```
   
6. **忽略大小写**：
   使用 `-i` 选项进行不区分大小写的搜索：
   
   ```sh
   grep -i "pattern" filename
   ```
   
7. **使用正则表达式**：
   使用 `-E` 选项启用扩展正则表达式：
   ```sh
   grep -E "regexp" filename
   ```

8. **排除匹配**：
   使用 `-v` 或 `--invert-match` 选项排除匹配的行：
   ```sh
   grep -v "pattern" filename
   ```

9. **只打印匹配的行**：
   使用 `-o` 选项只打印匹配的部分：
   ```sh
   grep -o "pattern" filename
   ```

10. **固定字符串**：
    使用 `-F` 选项告诉 `grep` 搜索的是固定字符串，而不是正则表达式：
    
      ```sh
      grep -F "pattern" filename
      ```
    
11. **行前后内容**：
    使用 `-C` 或 `--context` 选项打印匹配行前后的几行内容：
      ```sh
      grep -C 5 "pattern" filename
      ```
      这将打印匹配行及其前后各5行的内容。

12. **使用管道**：
    可以将 `grep` 结合其他命令使用，例如结合 `ls` 来搜索目录：
      ```sh
      ls -l | grep "pattern"
      ```



- 参数总结

    `grep` 是一个强大的文本搜索工具，用于在文件中搜索匹配特定模式的行。以下是一些常用的 `grep` 参数：

    1. `-i` 或 `--ignore-case`：忽略大小写差异。

    2. `-c` 或 `--count`：只输出匹配行的数量，而不输出匹配的行本身。

    3. `-v` 或 `--invert-match`：显示不匹配模式的行。

    4. `-l` 或 `--files-with-matches`：只输出包含匹配行的文件名。

    5. `-L` 或 `--files-without-match`：只输出不包含匹配行的文件名。

    6. `-r` 或 `--recursive`：递归地搜索指定目录下的所有文件。

    7. `-h` 或 `--no-filename`：不显示文件名。

    8. `-n` 或 `--line-number`：在输出的每行前加上行号。

    9. `--color`：将匹配的文本高亮显示。

    10. `-E` 或 `--extended-regexp`：使用扩展的正则表达式。

    11. `-F` 或 `--fixed-strings`：将模式作为固定字符串（非正则表达式）进行搜索。

    12. `-w` 或 `--word-regexp`：只匹配整个单词。

    13. `-x` 或 `--line-regexp`：只匹配整行。

    14. `-A` 或 `--after-context`：除了匹配的行外，还输出匹配行之后的若干行。

    15. `-B` 或 `--before-context`：除了匹配的行外，还输出匹配行之前的若干行。

    16. `-C` 或 `--context` 或 `--around-context`：同时使用 `-A` 和 `-B`，输出匹配行前后的若干行。

    17. `-P` 或 `--perl-regexp`：使用 Perl 正则表达式。

    18. `-s` 或 `--no-messages`：不显示错误信息。

    19. `-q` 或 `--quiet` 或 `--silent`：不输出任何内容，只通过返回状态码表示是否找到匹配。

    20. `-e` 或 `--regexp`：指定要使用的正则表达式。

    这些参数可以组合使用，以实现更复杂的搜索功能。例如，`grep -i -r "pattern" /path/to/directory` 会递归地在指定目录下搜索不区分大小写的匹配 "pattern" 的行。

    



