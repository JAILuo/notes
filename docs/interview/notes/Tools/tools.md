## Git

### Git怎么合并代码？

1. 切换到目标分支，例如`git checkout main`。
2. 使用`git merge`命令合并指定分支的代码，例如`git merge feature-branch`。
3. 如果合并过程中没有冲突，代码会自动合并并提交。
4. 如果有冲突，Git会提示冲突的文件，需要手动解决冲突后，再提交合并后的代码。



### rebase 和 merge 的区别

- **功能不同**：`git merge`是将指定分支的代码合并到当前分支，而`git rebase`是将当前分支的提交记录重新应用到指定分支的最新提交之上。
- **历史记录不同**：`merge`会保留两个分支的提交历史，形成一个合并节点；`rebase`会使提交历史看起来像是在一条直线上，更加线性和简洁。
- **适用场景不同**：`merge`适用于需要保留分支历史的场景，如团队协作中不同功能分支的合并；`rebase`适用于希望提交历史更加清晰，或者在个人开发中希望整理提交记录的场景。

> 我自己 rebase 只用来过清理无用的 commit，还有一些别的更有用的用处：
>
> > 以下是`git rebase`在不同场景下的具体用法和操作步骤：
> >
> > ### 场景一：整理提交历史
> >
> > **背景**：你在开发一个新功能时，进行了多次小的提交，现在想要将这些提交整理成一个更有意义的提交。
> >
> > **操作步骤**：
> >
> > 1. **切换到目标分支**：
> >    
> >    ```bash
> >    git checkout feature-branch
> >    ```
> >    
> > 2. **查看提交历史**：
> >    ```bash
> >    git log --oneline
> >    ```
> >    假设输出如下：
> >    ```
> >    a1b2c3d 添加功能A的最终版本
> >    e4f5g6h 修复功能A的bug
> >    7890abc 添加功能A的基本功能
> >    d3e4f5g 修复功能A的另一个bug
> >    ```
> >
> > 3. **开始交互式rebase**：
> >    ```bash
> >    git rebase -i HEAD~4
> >    ```
> >
> > 4. **在交互式rebase中操作提交**：
> >    在文本编辑器中，你会看到类似以下内容：
> >    ```
> >    pick d3e4f5g 修复功能A的另一个bug
> >    pick 7890abc 添加功能A的基本功能
> >    pick e4f5g6h 修复功能A的bug
> >    pick a1b2c3d 添加功能A的最终版本
> >    ```
> >    将其修改为：
> >    ```
> >    squash d3e4f5g 修复功能A的另一个bug
> >    squash 7890abc 添加功能A的基本功能
> >    squash e4f5g6h 修复功能A的bug
> >    squash a1b2c3d 添加功能A的最终版本
> >    ```
> >    保存并退出编辑器。
> >
> > 5. **修改合并后的提交信息**：
> >    Git会打开一个编辑器，让你输入新的提交信息。你可以将多个提交的信息整合成一个有意义的描述，例如：
> >    ```
> >    完成功能A的开发
> >    ```
> >    保存并退出编辑器。
> >
> > 6. **完成rebase**：
> >    Git会自动完成rebase操作，并将多个提交合并成一个提交。
> >
> > 7. **强制推送修改后的提交历史**：
> >    ```bash
> >    git push origin feature-branch --force
> >    ```
> >
> > ### 场景二：将一个分支的提交应用到另一个分支
> >
> > **背景**：你在`feature-branch`上开发了一个新功能，现在想要将这些提交应用到`dev-branch`上。
> >
> > **操作步骤**：
> >
> > 1. **切换到目标分支**：
> >    ```bash
> >    git checkout dev-branch
> >    ```
> >
> > 2. **开始rebase**：
> >    ```bash
> >    git rebase feature-branch
> >    ```
> >
> > 3. **解决冲突（如果有）**：
> >    如果在rebase过程中出现冲突，Git会提示你解决冲突。解决冲突后，继续执行：
> >    ```bash
> >    git rebase --continue
> >    ```
> >
> > 4. **完成rebase**：
> >    如果没有冲突，或者冲突已经解决，rebase会自动完成。
> >
> > 5. **强制推送修改后的提交历史**：
> >    ```bash
> >    git push origin dev-branch --force
> >    ```
> >
> > ### 场景三：解决分支之间的代码冲突
> >
> > **背景**：你在`feature-branch`和`main-branch`上并行开发，现在想要将`feature-branch`上的提交应用到`main-branch`上，并解决可能的冲突。
> >
> > **操作步骤**：
> >
> > 1. **切换到目标分支**：
> >    ```bash
> >    git checkout main-branch
> >    ```
> >
> > 2. **开始rebase**：
> >    ```bash
> >    git rebase feature-branch
> >    ```
> >
> > 3. **解决冲突（如果有）**：
> >    如果在rebase过程中出现冲突，Git会提示你解决冲突。解决冲突后，继续执行：
> >    ```bash
> >    git rebase --continue
> >    ```
> >
> > 4. **完成rebase**：
> >    如果没有冲突，或者冲突已经解决，rebase会自动完成。
> >
> > 5. **强制推送修改后的提交历史**：
> >    ```bash
> >    git push origin main-branch --force
> >    ```
> >
> > ### 场景四：在分布式协作中同步代码
> >
> > **背景**：你在本地开发了一个新功能，现在想要将这些提交应用到远程仓库的`main-branch`上。
> >
> > **操作步骤**：
> >
> > 1. **切换到目标分支**：
> >    ```bash
> >    git checkout main-branch
> >    ```
> >
> > 2. **拉取远程仓库的最新代码**：
> >    ```bash
> >    git fetch origin
> >    ```
> >
> > 3. **开始rebase**：
> >    ```bash
> >    git rebase origin/main-branch
> >    ```
> >
> > 4. **解决冲突（如果有）**：
> >    如果在rebase过程中出现冲突，Git会提示你解决冲突。解决冲突后，继续执行：
> >    ```bash
> >    git rebase --continue
> >    ```
> >
> > 5. **完成rebase**：
> >    如果没有冲突，或者冲突已经解决，rebase会自动完成。
> >
> > 6. **强制推送修改后的提交历史**：
> >    ```bash
> >    git push origin main-branch --force
> >    ```
> >
> > ### 场景五：特性开发中的代码试验
> >
> > **背景**：你在开发一个新特性时，进行了一些代码试验，现在想要将这些试验性的提交整理成一个有意义的提交。
> >
> > **操作步骤**：
> >
> > 1. **切换到目标分支**：
> >    ```bash
> >    git checkout feature-branch
> >    ```
> >
> > 2. **查看提交历史**：
> >    ```bash
> >    git log --oneline
> >    ```
> >    假设输出如下：
> >    ```
> >    a1b2c3d 试验性提交3
> >    e4f5g6h 试验性提交2
> >    7890abc 试验性提交1
> >    ```
> >
> > 3. **开始交互式rebase**：
> >    ```bash
> >    git rebase -i HEAD~3
> >    ```
> >
> > 4. **在交互式rebase中操作提交**：
> >    在文本编辑器中，你会看到类似以下内容：
> >    ```
> >    pick 7890abc 试验性提交1
> >    pick e4f5g6h 试验性提交2
> >    pick a1b2c3d 试验性提交3
> >    ```
> >    将其修改为：
> >    ```
> >    squash 7890abc 试验性提交1
> >    squash e4f5g6h 试验性提交2
> >    squash a1b2c3d 试验性提交3
> >    ```
> >    保存并退出编辑器。
> >
> > 5. **修改合并后的提交信息**：
> >    Git会打开一个编辑器，让你输入新的提交信息。你可以将多个提交的信息整合成一个有意义的描述，例如：
> >    ```
> >    完成特性开发的试验性提交
> >    ```
> >    保存并退出编辑器。
> >
> > 6. **完成rebase**：
> >    Git会自动完成rebase操作，并将多个提交合并成一个提交。
> >
> > 7. **强制推送修改后的提交历史**：
> >    ```bash
> >    git push origin feature-branch --force
> >    ```
> >
> > 通过以上场景和操作步骤，你可以更全面地了解`git rebase`的多种用途和具体用法。









