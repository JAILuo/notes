
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://jailuo.github.io/notes/Course/The%20Missing%20Semester%20of%20Your%20CS%20Education/Lecture2.%20Shell%20Tools%20and%20Scripting/text%20processing/shell/">
      
      
      
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.48">
    
    
      
        <title>Shell - Messy Notes</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="Messy Notes" class="md-header__button md-logo" aria-label="Messy Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Messy Notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Shell
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/JAILuo/notes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="Messy Notes" class="md-nav__button md-logo" aria-label="Messy Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Messy Notes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/JAILuo/notes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    首页
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ysyx
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            ysyx
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NJU-ICS2023-PA
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            NJU-ICS2023-PA
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../ysyx/pa/pa1/pa1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PA1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../ysyx/pa/pa2/pa2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PA2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../ysyx/pa/pa3/pa3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PA3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../ysyx/pa/pa4/pa4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PA4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../ysyx/pa/c_marco/macro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C Macro
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../ysyx/pa/summary/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../ysyx/pa/Linux_porting/porting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux Porting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../ysyx/digital-circuit/digital%20circuit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Digital Circuit
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      常用查找
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      统计代码行数
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main" class="md-nav__link">
    <span class="md-ellipsis">
      找 main 函数入口
    </span>
  </a>
  
    <nav class="md-nav" aria-label="找 main 函数入口">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cpuh" class="md-nav__link">
    <span class="md-ellipsis">
      能不能找文件名是这个的呢？比如说是 cpu.h 的？
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#find-grep-sed" class="md-nav__link">
    <span class="md-ellipsis">
      find 和 grep 和sed学习
    </span>
  </a>
  
    <nav class="md-nav" aria-label="find 和 grep 和sed学习">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#find" class="md-nav__link">
    <span class="md-ellipsis">
      find
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grep" class="md-nav__link">
    <span class="md-ellipsis">
      grep
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Shell</h1>

<h2 id="_1">常用查找</h2>
<p>在Linux系统中，你可以使用<code>find</code>命令来查找当前目录下文件名中包含"main"的文件。以下是一些基本的命令示例：</p>
<ol>
<li>
<p><strong>查找当前目录及其子目录下所有文件名中包含"main"的文件</strong>：
   <div class="highlight"><pre><span></span><code>find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*main*&quot;</span>
</code></pre></div></p>
</li>
<li>
<p><strong>只查找当前目录下的文件（不包括子目录）</strong>：
   <div class="highlight"><pre><span></span><code>find<span class="w"> </span>.<span class="w"> </span>-maxdepth<span class="w"> </span><span class="m">1</span><span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*main*&quot;</span>
</code></pre></div></p>
</li>
<li>
<p><strong>查找文件名中包含"main"的C或C++源文件</strong>：</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code>find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span><span class="se">\(</span><span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.c&quot;</span><span class="w"> </span>-o<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.cc&quot;</span><span class="w"> </span>-o<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.cpp&quot;</span><span class="w"> </span>-o<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.h&quot;</span><span class="w"> </span><span class="se">\)</span><span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*main*&quot;</span>
</code></pre></div>
<ol>
<li>
<p><strong>使用正则表达式查找文件名</strong>（如果你的<code>find</code>命令支持<code>-regex</code>选项）：
   <div class="highlight"><pre><span></span><code>find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-regex<span class="w"> </span><span class="s2">&quot;.*/main.*\.\(c\|cpp\|cc\|h\)&quot;</span>
</code></pre></div></p>
</li>
<li>
<p><strong>使用<code>grep</code>命令配合<code>find</code>命令来过滤结果</strong>（如果你只想查看文件名，而不是完整路径）：
   <div class="highlight"><pre><span></span><code>find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*main*&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;main&quot;</span>
</code></pre></div></p>
</li>
<li>
<p><strong>使用<code>xargs</code>命令来对找到的文件执行某个命令</strong>（例如，列出所有找到的文件的详细信息）：</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code>find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*main*&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>ls<span class="w"> </span>-l
</code></pre></div>
<p>请注意，这些命令中的<code>.</code>表示当前目录，<code>-type f</code>指定查找文件，<code>-name "*main*"</code>指定文件名模式。如果你的<code>find</code>命令的语法有所不同，可能需要调整命令选项。</p>
<h2 id="_2">统计代码行数</h2>
<p>要统计文件夹中的.c代码行数和.h代码行数，您可以使用以下步骤：</p>
<ol>
<li>统计.c文件的代码行数：</li>
<li>
<p>使用以下命令统计文件夹中所有.c文件的代码行数：
     <div class="highlight"><pre><span></span><code>find<span class="w"> </span>/path/to/your/folder<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.c&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>cat<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l
</code></pre></div>
     这个命令会找到指定文件夹下所有扩展名为.c的文件，将它们的内容合并后统计总行数。</p>
<blockquote>
<p>这个命令行使用了几个不同的命令来完成一个特定的任务：在指定的目录及其子目录中查找所有的 C 语言源代码文件（以 <code>.c</code> 结尾的文件），将这些文件的内容拼接起来，然后计算总的行数。下面是每个部分的详细解释：</p>
<ol>
<li><code>find /path/to/your/folder -name "*.c"</code>：</li>
<li><code>find</code>：<strong>是一个命令行工具，用于在文件系统中搜索文件</strong>。</li>
<li><code>/path/to/your/folder</code>：指定了搜索的起始目录。你需要将其替换为实际的目录路径。</li>
<li>
<p><code>-name "*.c"</code>：指定了搜索条件，即所有以 <code>.c</code> 结尾的文件，这是 C 语言源代码文件的常见扩展名。</p>
</li>
<li>
<p><code>|</code>（管道）：</p>
</li>
<li>
<p>管道符号用于将一个命令的输出作为另一个命令的输入。在这个例子中，它将 <code>find</code> 命令的输出（即所有 <code>.c</code> 文件的路径列表）传递给 <code>xargs</code> 命令。</p>
</li>
<li>
<p><code>xargs</code>：</p>
</li>
<li>
<p><code>xargs</code> 是一个命令行工具，用于将标准输入（stdin）数据转换成命令行参数。在这个例子中，它将接收来自 <code>find</code> 命令的文件列表，并把这些文件作为参数传递给 <code>cat</code> 命令。</p>
</li>
<li>
<p><code>cat</code>：</p>
</li>
<li>
<p><code>cat</code> 是一个命令行工具，用于连接文件并打印到标准输出。由于 <code>xargs</code> 传递了多个文件名给 <code>cat</code>，<code>cat</code> 将这些文件的内容拼接起来，形成单一的输出流。</p>
</li>
<li>
<p><code>wc -l</code>：</p>
</li>
<li><code>wc</code> 是一个命令行工具，用于计算字数、行数、字符数等。</li>
<li><code>-l</code> 是 <code>wc</code> 的一个选项，用于计算行数。</li>
</ol>
<p>将这些组合起来，整个命令行的作用是：查找指定目录下所有 <code>.c</code> 文件，将它们的内容全部拼接起来，然后计算总的行数。这在统计一个项目中所有 C 源代码文件的总行数时非常有用。
</p>
</blockquote>
</li>
<li>
<p>统计.h文件的代码行数：</p>
</li>
<li>使用以下命令统计文件夹中所有.h文件的代码行数：
     <div class="highlight"><pre><span></span><code>find<span class="w"> </span>/path/to/your/folder<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.h&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>cat<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l
</code></pre></div>
     这个命令会找到指定文件夹下所有扩展名为.h的文件，将它们的内容合并后统计总行数。</li>
</ol>
<p>请将"/path/to/your/folder"替换为您要统计的文件夹路径。执行上述命令后，终端会输出.c文件和.h文件的总代码行数。</p>
<h2 id="main">找 main 函数入口</h2>
<p>在一个大型的C项目中找到最初的<code>main</code>函数入口可以通过以下步骤在Linux系统中进行：</p>
<ol>
<li><strong>使用<code>grep</code>命令搜索</strong>：
   在项目的根目录下，可以使用<code>grep</code>命令搜索包含<code>main</code>函数的文件，然后查看这些文件中的<code>main</code>函数是否是程序的入口。例如：</li>
</ol>
<p><div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;int main&quot;</span><span class="w"> </span>.
</code></pre></div>
   这将搜索当前目录下所有文件中包含<code>int main</code>的内容。</p>
<blockquote>
<p>很有用喔！！！</p>
<p>查找了很多变量、宏定义、等等</p>
<p>简单分析</p>
<p>这个 <code>grep</code> 命令用于递归搜索当前目录及所有子目录下包含字符串 <code>"int main"</code> 的文件。下面是每个参数的具体含义：</p>
<ol>
<li>
<p><code>grep</code>：是这个命令行工具的命令本身，用于搜索文本文件并显示匹配的行。</p>
</li>
<li>
<p><code>-r</code> 或 <code>--recursive</code>：这是一个选项，告诉 <code>grep</code> 递归地搜索给定目录下的所有文件，包括子目录中的文件。</p>
</li>
<li>
<p><code>"int main"</code>：这是 <code>grep</code> 搜索的模式，即你想要在文件中找到的字符串。在这个例子中，它搜索包含 <code>int main</code> 的行，这通常是 C 或 C++ 程序中主函数的开始。</p>
</li>
<li>
<p><code>.</code>：代表当前目录。在这个命令中，它告诉 <code>grep</code> 从当前工作目录开始搜索，并包括这个目录下的所有子目录。</p>
</li>
</ol>
<p>综上所述，整个命令 <code>grep -r "int main" .</code> 的作用是在当前目录及其所有子目录中搜索包含 <code>int main</code> 的文本行，并将这些行显示在标准输出上。这通常用于快速查找项目的源代码文件中定义了主函数的位置。</p>
</blockquote>
<ol>
<li>
<p><strong>查看 Makefile或CMakeLists文件</strong>：
   如果项目使用了Makefile或CMakeLists进行构建，可以查看这些文件中是否指定了程序的入口文件。通常会有类似<code>TARGET</code>或<code>EXECUTABLE</code>的定义，指定了可执行文件的名称。</p>
</li>
<li>
<p><strong>使用<code>objdump</code>命令</strong>：
   可以使用<code>objdump</code>命令来查看可执行文件的符号表，找到<code>main</code>函数的入口地址。例如：</p>
</li>
</ol>
<p><div class="highlight"><pre><span></span><code>objdump<span class="w"> </span>-t<span class="w"> </span>&lt;executable_file&gt;<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>main
</code></pre></div>
   这将列出可执行文件中所有包含<code>main</code>的符号，包括<code>main</code>函数的入口地址。</p>
<ol>
<li><strong>使用<code>readelf</code>命令</strong>：
   可以使用<code>readelf</code>命令来查看可执行文件的节头表，找到<code>main</code>函数的入口地址。例如：
   <div class="highlight"><pre><span></span><code>readelf<span class="w"> </span>-s<span class="w"> </span>&lt;executable_file&gt;<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>main
</code></pre></div>
   这将列出可执行文件中所有包含<code>main</code>的符号，包括<code>main</code>函数的入口地址。</li>
</ol>
<p>通过以上方法，您可以在大型C项目中找到最初的<code>main</code>函数入口，以便了解程序的整体结构和启动流程。</p>
<h4 id="cpuh">能不能找文件名是这个的呢？比如说是 <code>cpu.h</code> 的？</h4>
<p>要在Linux系统中找到文件名为<code>cpu.h</code>的文件，可以使用<code>find</code>命令。<code>find</code>命令可以在指定目录及其子目录中搜索文件，并根据指定的条件进行过滤。</p>
<p>下面是使用<code>find</code>命令查找文件名为<code>cpu.h</code>的文件的示例：</p>
<div class="highlight"><pre><span></span><code>find<span class="w"> </span>/path/to/search<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;cpu.h&quot;</span>
</code></pre></div>
<p>在上面的命令中：
- <code>/path/to/search</code>是要搜索的目录路径。您可以将其替换为您希望搜索的实际目录路径。
- <code>-type f</code>表示只搜索普通文件，而不是目录或其他类型的文件。
- <code>-name "cpu.h"</code>表示要搜索的文件名为<code>cpu.h</code>。</p>
<p>执行上面的命令后，<code>find</code>命令将在指定目录及其子目录中查找文件名为<code>cpu.h</code>的文件，并输出相应的文件路径。您可以根据输出的文件路径找到目标文件<code>cpu.h</code>。</p>
<h2 id="find-grep-sed">find 和 grep 和sed学习</h2>
<h4 id="find">find</h4>
<h4 id="grep">grep</h4>
<p><code>grep</code> 是一个强大的文本搜索工具，它用于搜索文件内容，找出包含指定模式的行。以下是 <code>grep</code> 的一些基本用法：</p>
<ol>
<li><strong>基本搜索</strong>：
   使用 <code>grep</code> 搜索包含特定文本的行：</li>
</ol>
<p><div class="highlight"><pre><span></span><code>grep<span class="w"> </span><span class="s2">&quot;pattern&quot;</span><span class="w"> </span>filename
</code></pre></div>
   这将搜索文件 <code>filename</code> 中所有包含字符串 <code>pattern</code> 的行，并将其打印出来。</p>
<ol>
<li><strong>递归搜索</strong>：
   使用 <code>-r</code> 或 <code>--recursive</code> 选项递归搜索目录：</li>
</ol>
<p><div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;pattern&quot;</span><span class="w"> </span>/path/to/directory
</code></pre></div>
   这将搜索指定目录及其所有子目录中的文件。</p>
<ol>
<li><strong>行号</strong>：
   使用 <code>-n</code> 选项显示匹配行的行号：</li>
</ol>
<div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;pattern&quot;</span><span class="w"> </span>filename
</code></pre></div>
<ol>
<li><strong>只打印文件名</strong>：
   使用 <code>-l</code> 选项只打印包含匹配行的文件名：</li>
</ol>
<div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-l<span class="w"> </span><span class="s2">&quot;pattern&quot;</span><span class="w"> </span>filename
</code></pre></div>
<ol>
<li><strong>不显示匹配行</strong>：
   使用 <code>-L</code> 选项只打印不包含匹配行的文件名：</li>
</ol>
<div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-L<span class="w"> </span><span class="s2">&quot;pattern&quot;</span><span class="w"> </span>filename
</code></pre></div>
<ol>
<li><strong>忽略大小写</strong>：
   使用 <code>-i</code> 选项进行不区分大小写的搜索：</li>
</ol>
<div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;pattern&quot;</span><span class="w"> </span>filename
</code></pre></div>
<ol>
<li>
<p><strong>使用正则表达式</strong>：
   使用 <code>-E</code> 选项启用扩展正则表达式：
   <div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-E<span class="w"> </span><span class="s2">&quot;regexp&quot;</span><span class="w"> </span>filename
</code></pre></div></p>
</li>
<li>
<p><strong>排除匹配</strong>：
   使用 <code>-v</code> 或 <code>--invert-match</code> 选项排除匹配的行：
   <div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;pattern&quot;</span><span class="w"> </span>filename
</code></pre></div></p>
</li>
<li>
<p><strong>只打印匹配的行</strong>：
   使用 <code>-o</code> 选项只打印匹配的部分：
   <div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-o<span class="w"> </span><span class="s2">&quot;pattern&quot;</span><span class="w"> </span>filename
</code></pre></div></p>
</li>
<li>
<p><strong>固定字符串</strong>：
    使用 <code>-F</code> 选项告诉 <code>grep</code> 搜索的是固定字符串，而不是正则表达式：</p>
<div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;pattern&quot;</span><span class="w"> </span>filename
</code></pre></div>
</li>
<li>
<p><strong>行前后内容</strong>：
    使用 <code>-C</code> 或 <code>--context</code> 选项打印匹配行前后的几行内容：
      <div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-C<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="s2">&quot;pattern&quot;</span><span class="w"> </span>filename
</code></pre></div>
      这将打印匹配行及其前后各5行的内容。</p>
</li>
<li>
<p><strong>使用管道</strong>：
    可以将 <code>grep</code> 结合其他命令使用，例如结合 <code>ls</code> 来搜索目录：
      <div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-l<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;pattern&quot;</span>
</code></pre></div></p>
</li>
<li>
<p>参数总结</p>
<p><code>grep</code> 是一个强大的文本搜索工具，用于在文件中搜索匹配特定模式的行。以下是一些常用的 <code>grep</code> 参数：</p>
<ol>
<li>
<p><code>-i</code> 或 <code>--ignore-case</code>：忽略大小写差异。</p>
</li>
<li>
<p><code>-c</code> 或 <code>--count</code>：只输出匹配行的数量，而不输出匹配的行本身。</p>
</li>
<li>
<p><code>-v</code> 或 <code>--invert-match</code>：显示不匹配模式的行。</p>
</li>
<li>
<p><code>-l</code> 或 <code>--files-with-matches</code>：只输出包含匹配行的文件名。</p>
</li>
<li>
<p><code>-L</code> 或 <code>--files-without-match</code>：只输出不包含匹配行的文件名。</p>
</li>
<li>
<p><code>-r</code> 或 <code>--recursive</code>：递归地搜索指定目录下的所有文件。</p>
</li>
<li>
<p><code>-h</code> 或 <code>--no-filename</code>：不显示文件名。</p>
</li>
<li>
<p><code>-n</code> 或 <code>--line-number</code>：在输出的每行前加上行号。</p>
</li>
<li>
<p><code>--color</code>：将匹配的文本高亮显示。</p>
</li>
<li>
<p><code>-E</code> 或 <code>--extended-regexp</code>：使用扩展的正则表达式。</p>
</li>
<li>
<p><code>-F</code> 或 <code>--fixed-strings</code>：将模式作为固定字符串（非正则表达式）进行搜索。</p>
</li>
<li>
<p><code>-w</code> 或 <code>--word-regexp</code>：只匹配整个单词。</p>
</li>
<li>
<p><code>-x</code> 或 <code>--line-regexp</code>：只匹配整行。</p>
</li>
<li>
<p><code>-A</code> 或 <code>--after-context</code>：除了匹配的行外，还输出匹配行之后的若干行。</p>
</li>
<li>
<p><code>-B</code> 或 <code>--before-context</code>：除了匹配的行外，还输出匹配行之前的若干行。</p>
</li>
<li>
<p><code>-C</code> 或 <code>--context</code> 或 <code>--around-context</code>：同时使用 <code>-A</code> 和 <code>-B</code>，输出匹配行前后的若干行。</p>
</li>
<li>
<p><code>-P</code> 或 <code>--perl-regexp</code>：使用 Perl 正则表达式。</p>
</li>
<li>
<p><code>-s</code> 或 <code>--no-messages</code>：不显示错误信息。</p>
</li>
<li>
<p><code>-q</code> 或 <code>--quiet</code> 或 <code>--silent</code>：不输出任何内容，只通过返回状态码表示是否找到匹配。</p>
</li>
<li>
<p><code>-e</code> 或 <code>--regexp</code>：指定要使用的正则表达式。</p>
</li>
</ol>
<p>这些参数可以组合使用，以实现更复杂的搜索功能。例如，<code>grep -i -r "pattern" /path/to/directory</code> 会递归地在指定目录下搜索不区分大小写的匹配 "pattern" 的行。</p>
</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": [], "search": "../../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>